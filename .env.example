# ============================================================================
# REQUIRED FOR BUILD - These MUST be set for build to succeed
# ============================================================================

# Supabase - Database & Auth
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOi...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOi...

# ============================================================================
# OPTIONAL INTEGRATIONS - Build succeeds without these, features disabled
# ============================================================================

# Email Notifications (Resend)
# - If EMAIL_NOTIFICATIONS_ENABLED=false, emails are logged to console only
# - If RESEND_API_KEY is missing, email sending is skipped gracefully
EMAIL_NOTIFICATIONS_ENABLED=false
RESEND_API_KEY=re_...
EMAIL_FROM=noreply@winefeed.se

# Push Notifications (Web Push / VAPID)
# - Generate keys with: npx web-push generate-vapid-keys
# - If missing, push notifications are disabled
NEXT_PUBLIC_VAPID_PUBLIC_KEY=BEl...
VAPID_PRIVATE_KEY=abc...
VAPID_SUBJECT=mailto:markus@esima.se

# AI Suggestions (Anthropic Claude)
# - If missing, AI suggestion features will be disabled
# - Required for: /api/suggest endpoint
ANTHROPIC_API_KEY=sk-ant-api03-...

# Wine-Searcher API (Wine Check enrichment only - NO PRICE DATA)
# - If missing, Wine Check returns mock/cached data
# - Required for: Wine enrichment in offer editor
# - Get API key from: https://www.wine-searcher.com/api
WINESEARCHER_API_KEY=your_winesearcher_api_key_here
WINESEARCHER_CACHE_TTL_DAYS=7

# GS1 Barcode Verification
# - If missing, barcode verification works in cache-only mode
GS1_API_KEY=your_gs1_api_key_here
GS1_API_URL=https://api.gs1.org/v1

# Sentry Error Tracking
# - If missing, Sentry is disabled
# - Get DSN from: https://sentry.io/settings/[org]/projects/[project]/keys/
NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@o123456.ingest.sentry.io/123456
# Optional: Auth token for uploading source maps
SENTRY_AUTH_TOKEN=sntrys_...

# ============================================================================
# APP CONFIGURATION
# ============================================================================

# Base URL for app (used in emails, deep links)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# API Base URL for scripts (optional, defaults to http://localhost:3000)
API_BASE_URL=http://localhost:3000

# ============================================================================
# MATCHING ENGINE CONFIGURATION (optional - have defaults)
# ============================================================================

# Confidence thresholds for product matching
# - AUTO_MATCH: Auto-approve matches above this score (default: 0.95)
# - REVIEW: Send to review queue between REVIEW and AUTO_MATCH (default: 0.70)
# - SAMPLING: Sampling review between SAMPLING and REVIEW (default: 0.85)
# - NO_MATCH: Reject matches below this score (default: 0.50)
MATCH_THRESHOLD_AUTO_MATCH=0.95
MATCH_THRESHOLD_REVIEW=0.70
MATCH_THRESHOLD_SAMPLING=0.85
MATCH_THRESHOLD_NO_MATCH=0.50

# Auto-create master products from high-confidence matches (default: false)
MATCHING_ENABLE_AUTO_CREATE=false

# ABV tolerance for product matching (percentage points, default: 0.5)
GUARDRAIL_ABV_TOLERANCE=0.5
